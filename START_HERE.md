# 🚀 다음 세션 시작 가이드

**날짜**: 2025-12-06
**마지막 작업**: P#1-3 코드 완성, P#2-1 Matlab 코드 완성

---

## 📖 먼저 읽을 파일

1. **SESSION_SUMMARY.md** - 이전 작업 전체 요약
2. **NEXT_TASKS.md** - 다음에 할 작업 상세 계획 (플로터 데이터 저장 기능)

---

## ⚡ 빠른 시작

### 방법 1: 저장 기능 구현부터 (추천)

Claude에게 이렇게 말하세요:
```
"NEXT_TASKS.md 파일을 읽고 플로터 데이터 저장 기능을 구현해줘"
```

### 방법 2: 측정부터 (저장 기능은 나중에)

```bash
# P#1-3 실행하여 τ, K 측정
python run.py 1-3

# 플로터에서 측정값 수동 기록:
# - 노란색 라벨: τ 값
# - 녹색 라벨: K 값
# - 5가지 듀티(150, 175, 200, 225, 250) 각각
```

그 다음:
```
"p2-1_pid_design.m 파일을 열어서 측정한 tau, K 값을 넣고 실행해줘"
```

---

## 📊 현재 상태

### ✅ 완료된 것
- [x] P#1-1, P#1-2, P#1-3 코드
- [x] 범용 플로터 (기본 기능)
- [x] 자동 업로드 스크립트 (run.py)
- [x] P#2-1 Matlab 설계 코드

### ⬜ 대기 중
- [ ] 플로터 데이터 저장 기능 (NEXT_TASKS.md 참조)
- [ ] P#1-3 실행 및 측정
- [ ] P#2-1 PID 설계 실행
- [ ] P#2-2 Arduino PID 구현
- [ ] P#3 Full-State Feedback

---

## 🎯 우선순위

### 높음 (지금 해야 할 것)
1. **플로터 저장 기능 구현** (NEXT_TASKS.md)
2. **P#1-3 측정** (τ, K 값)
3. **P#2-1 Matlab 실행** (PID 게인 계산)

### 중간 (곧 할 것)
4. P#2-2 Arduino PID 구현
5. P#3 Full-State Feedback 설계

### 낮음 (여유 있을 때)
6. Gradient Descent PID 최적화 비교
7. 보고서 작성

---

## 📁 주요 파일 위치

```
MotorControl/
├── SESSION_SUMMARY.md        ← 이전 작업 요약
├── NEXT_TASKS.md              ← 다음 작업 계획 (저장 기능 상세)
├── START_HERE.md              ← 이 파일
├── P2_PID_Design_Ideas.md     ← PID 설계 이론
├── code/
│   ├── p1-1.cpp               ← 각속도 측정
│   ├── p1-2.cpp               ← τ 측정
│   ├── p1-3.cpp               ← K 측정
│   └── stop.cpp
├── src/
│   └── plotter.py             ← ⚠️ 수정 필요 (저장 기능 추가)
├── data/                      ← 📊 측정 데이터 저장 위치 (src 밖!)
│   ├── 1-1/                   ← Task 1-1 데이터
│   ├── 1-2/                   ← Task 1-2 데이터
│   └── 1-3/                   ← Task 1-3 데이터 (τ, K)
├── run.py                     ← 업로드 스크립트
└── p2-1_pid_design.m          ← Matlab PID 설계 (data/ 폴더에서 자동 로딩)
```

---

## 💡 팁

### 실험 순서
1. 저장 기능 구현 → 2. P#1-3 실행 → 3. 'p' 눌러 저장 → 4. Matlab 실행

### 측정값 기록 (저장 기능 구현 전이라면)
```
d=150: τ=?, K=?
d=175: τ=?, K=?
d=200: τ=?, K=?
d=225: τ=?, K=?
d=250: τ=?, K=?

평균: τ_avg=?, K_avg=?
```

### Matlab 실행
```matlab
% p2-1_pid_design.m 파일에서
tau = (측정한 평균값);
K = (측정한 평균값);

% 실행
p2_1_pid_design
```

---

## 🔍 문제 해결

### "측정값이 이상해요"
- K 계산 임계값 확인 (p1-3.cpp:127)
- 50 → 20으로 낮추기
- SESSION_SUMMARY.md의 "알려진 이슈" 참조

### "플로터가 안 떠요"
- COM_MEGA2560 환경변수 확인
- README.md의 환경변수 설정 참조

### "업로드 실패"
- Arduino 연결 확인
- 다른 프로그램이 COM 포트 사용 중인지 확인
- PlatformIO 설치 확인

---

## 📞 세션 재시작 명령어

Claude에게 말하기:
```
"MotorControl 프로젝트를 이어서 하려고 해.
START_HERE.md를 읽고 어디부터 시작하면 될지 알려줘."
```

또는:
```
"NEXT_TASKS.md에 있는 플로터 데이터 저장 기능을 구현해줘.
체크리스트 순서대로 진행하자."
```

---

**다음 세션에서 만나요! 🚀**
